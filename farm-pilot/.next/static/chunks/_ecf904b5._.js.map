{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/lib/api.ts"],"sourcesContent":["// Lightweight API client for the frontend to talk to the backend\n// Uses NEXT_PUBLIC_API_URL or falls back to http://localhost:5001\n\nimport {\n  BackendHouse,\n  FrontendHousePayload,\n  House,\n  HouseStatus,\n  DailyLog,\n  Sale,\n  Customer,\n  FeedRecipe,\n  FeedBatch,\n  Ingredient,\n} from '@/types';\nimport { OperatingCost, CostEntry, CostFilters } from '@/types/entities/cost';\n\nconst BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5001';\n\nfunction authHeader(): HeadersInit {\n  const token = typeof window !== 'undefined' ? localStorage.getItem('fm_token') : null;\n  return token ? { Authorization: `Bearer ${token}` } : {};\n}\n\nasync function tryRefreshToken(): Promise<boolean> {\n  try {\n    if (typeof window === 'undefined') return false;\n\n    const refresh = localStorage.getItem('fm_refresh');\n\n    if (!refresh) return false;\n    const res = await fetch(`${BASE}/api/auth/refresh`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ refreshToken: refresh }),\n    });\n    if (!res.ok) return false;\n    const body = await res.json().catch(() => ({}));\n    const token = body?.token || body?.data?.token;\n    if (token) {\n      localStorage.setItem('fm_token', token);\n      authEvents.emit('refresh');\n      return true;\n    }\n    return false;\n  } catch {\n    return false;\n  }\n}\n\nasync function fetchWithAuth(input: RequestInfo | URL, init?: RequestInit, retry = true) {\n  const headers = new Headers(init?.headers as HeadersInit | undefined);\n  const ah = authHeader();\n  Object.entries(ah).forEach(([k, v]) => {\n    if (v !== undefined && v !== null) headers.set(k, String(v));\n  });\n  const merged: RequestInit = { ...(init || {}), headers };\n  const res = await fetch(input, merged);\n  if (res.status === 401 && retry) {\n    const refreshed = await tryRefreshToken();\n    if (refreshed) {\n      const headers2 = new Headers(init?.headers as HeadersInit | undefined);\n      const ah2 = authHeader();\n      Object.entries(ah2).forEach(([k, v]) => {\n        if (v !== undefined && v !== null) headers2.set(k, String(v));\n      });\n      const retried: RequestInit = { ...(init || {}), headers: headers2 };\n      return fetch(input, retried);\n    }\n  }\n  return res;\n}\n\nasync function handleResponse(res: Response) {\n  if (!res.ok) {\n    const err = new Error(`HTTP ${res.status}`);\n    try {\n      const body = await res.json();\n      err.message = body?.message || err.message;\n    } catch {}\n    throw err;\n  }\n  return res.json().catch(() => ({}));\n}\n\n// Event emitter for auth events\nclass EventEmitter {\n  private events: Record<string, ((...args: unknown[]) => void)[]> = {};\n\n  emit(event: string, ...args: unknown[]) {\n    (this.events[event] || []).forEach((fn) => fn(...args));\n  }\n\n  on(event: string, fn: (...args: unknown[]) => void) {\n    this.events[event] = this.events[event] || [];\n    this.events[event].push(fn);\n  }\n\n  off(event: string, fn: (...args: unknown[]) => void) {\n    if (!this.events[event]) return;\n    this.events[event] = this.events[event].filter((f) => f !== fn);\n  }\n}\n\nexport const authEvents = new EventEmitter();\n\nfunction mapBackendHouse(house: BackendHouse): House {\n  return {\n    id: house.id,\n    houseName: house.houseName || house.name || 'Unknown',\n    capacity: Number(house.capacity) || 0,\n    currentBirds: Number(house.currentBirdCount) || 0,\n    location: house.location || 'N/A',\n    status:\n      house.status === HouseStatus.ACTIVE ||\n      house.status === HouseStatus.MAINTENANCE ||\n      house.status === HouseStatus.INACTIVE\n        ? (house.status as HouseStatus)\n        : HouseStatus.INACTIVE,\n    notes: house.description,\n  };\n}\n\nexport async function getDailyLogs(filters: Record<string, string> = {}) {\n  const params = new URLSearchParams(filters);\n  const res = await fetchWithAuth(`${BASE}/api/daily-logs?${params}`);\n  const data = await handleResponse(res);\n  return data;\n}\n\nexport async function createDailyLog(payload: Partial<DailyLog>) {\n  const res = await fetchWithAuth(`${BASE}/api/daily-logs`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\n// Houses\nexport async function getHouses() {\n  const res = await fetchWithAuth(`${BASE}/api/houses`);\n  const data = await handleResponse(res);\n  return (data?.data || []).map(mapBackendHouse);\n}\n\nexport async function createHouse(payload: FrontendHousePayload) {\n  const body = {\n    houseName: payload.houseName,\n    capacity: payload.capacity,\n    currentBirds: payload.currentBirds,\n    location: payload.location,\n    status: payload.status,\n    notes: payload.notes,\n  };\n\n  const res = await fetchWithAuth(`${BASE}/api/houses`, {\n    method: 'POST',\n    headers: new Headers({ 'Content-Type': 'application/json' }),\n    body: JSON.stringify(body),\n  });\n\n  const data = await handleResponse(res);\n  return mapBackendHouse(data?.data);\n}\n\nexport async function updateHouse(id: string, payload: FrontendHousePayload) {\n  const body: Record<string, unknown> = {};\n  if (payload.houseName !== undefined) body.houseName = payload.houseName;\n  if (payload.capacity !== undefined) body.capacity = payload.capacity;\n  if (payload.currentBirds !== undefined) body.currentBirds = payload.currentBirds;\n  if (payload.location !== undefined) body.location = payload.location;\n  if (payload.status !== undefined) body.status = payload.status;\n  if (payload.notes !== undefined) body.notes = payload.notes;\n\n  const res = await fetchWithAuth(`${BASE}/api/houses/${id}`, {\n    method: 'PUT',\n    headers: new Headers({ 'Content-Type': 'application/json' }),\n    body: JSON.stringify(body),\n  });\n\n  const data = await handleResponse(res);\n  return mapBackendHouse(data?.data);\n}\n\nexport async function deleteHouse(id: string) {\n  const res = await fetchWithAuth(`${BASE}/api/houses/${id}`, {\n    method: 'DELETE',\n  });\n  return handleResponse(res);\n}\n\nexport async function login(credentials: { username: string; password: string }) {\n  const res = await fetch(`${BASE}/api/auth/login`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(credentials),\n  });\n  const data = await handleResponse(res);\n  if (data?.token) {\n    localStorage.setItem('fm_token', data.token);\n    if (data.refreshToken) {\n      localStorage.setItem('fm_refresh', data.refreshToken);\n    }\n    authEvents.emit('login');\n  }\n  return data;\n}\n\nexport async function logout() {\n  const refresh = localStorage.getItem('fm_refresh');\n  if (refresh) {\n    try {\n      await fetch(`${BASE}/api/auth/logout`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ refreshToken: refresh }),\n      });\n    } catch {}\n  }\n  localStorage.removeItem('fm_token');\n  localStorage.removeItem('fm_refresh');\n  authEvents.emit('logout');\n}\n\nexport async function getCurrentUser() {\n  try {\n    const res = await fetchWithAuth(`${BASE}/api/auth/me`);\n    if (res.status === 401) {\n      return null;\n    }\n    const data = await handleResponse(res);\n    return data?.user || data?.data || null;\n  } catch (error: unknown) {\n    if (error instanceof Error && error.message?.includes('401')) {\n      return null;\n    }\n    throw error;\n  }\n}\n\nexport async function listStaff() {\n  const res = await fetchWithAuth(`${BASE}/api/staff`);\n  return handleResponse(res);\n}\n\nexport async function createStaff(payload: { username: string; password: string }) {\n  const res = await fetchWithAuth(`${BASE}/api/staff`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function updateStaff(\n  id: number | string,\n  payload: { fullName?: string; password?: string; isActive?: boolean }\n) {\n  const res = await fetchWithAuth(`${BASE}/api/staff/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteStaff(id: number | string) {\n  const res = await fetchWithAuth(`${BASE}/api/staff/${id}`, { method: 'DELETE' });\n  return handleResponse(res);\n}\n\nexport async function getLaborers() {\n  const res = await fetchWithAuth(`${BASE}/api/laborers`);\n  return handleResponse(res);\n}\n\n// Labor API wrappers (CRUD)\nexport async function listLaborers() {\n  const res = await fetchWithAuth(`${BASE}/api/laborers`);\n  const data = await handleResponse(res);\n  return data?.data || [];\n}\n\nexport async function createLaborer(payload: Record<string, unknown>) {\n  const res = await fetchWithAuth(`${BASE}/api/laborers`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  const data = await handleResponse(res);\n  return data?.data || null;\n}\n\nexport async function updateLaborer(id: string | number, payload: Record<string, unknown>) {\n  const res = await fetchWithAuth(`${BASE}/api/laborers/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  const data = await handleResponse(res);\n  return data?.data || null;\n}\n\nexport async function deleteLaborer(id: string | number) {\n  const res = await fetchWithAuth(`${BASE}/api/laborers/${id}`, {\n    method: 'DELETE',\n  });\n  if (res.status === 204) return true;\n  const data = await handleResponse(res);\n  return !!data;\n}\n\n// Work assignments\nexport async function getWorkAssignments(filters: Record<string, string> = {}) {\n  const params = new URLSearchParams(filters);\n  const res = await fetchWithAuth(`${BASE}/api/work-assignments?${params}`);\n  const data = await handleResponse(res);\n  return data?.data || [];\n}\n\nexport async function createWorkAssignment(payload: Record<string, unknown>) {\n  const res = await fetchWithAuth(`${BASE}/api/work-assignments`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  const data = await handleResponse(res);\n  return data?.data || null;\n}\n\nexport async function updateWorkAssignment(id: string | number, payload: Record<string, unknown>) {\n  const res = await fetchWithAuth(`${BASE}/api/work-assignments/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  const data = await handleResponse(res);\n  return data?.data || null;\n}\n\n// Payroll\nexport async function getPayrollMonth(monthYear: string) {\n  const res = await fetchWithAuth(`${BASE}/api/payroll/${monthYear}`);\n  const data = await handleResponse(res);\n  return data?.data || [];\n}\n\nexport async function generatePayroll(monthYear: string) {\n  const res = await fetchWithAuth(`${BASE}/api/payroll/generate/${monthYear}`, {\n    method: 'POST',\n  });\n  const data = await handleResponse(res);\n  return data?.data || [];\n}\n\nexport async function updatePayroll(id: string | number, payload: Record<string, unknown>) {\n  const res = await fetchWithAuth(`${BASE}/api/payroll/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  const data = await handleResponse(res);\n  return data?.data || null;\n}\n\nexport async function getPayrollSummary(year?: string) {\n  const q = year ? `?year=${encodeURIComponent(year)}` : '';\n  const res = await fetchWithAuth(`${BASE}/api/payroll/summary${q}`);\n  const data = await handleResponse(res);\n  return data?.data || {};\n}\n\nexport async function getSales(filters: Record<string, string> = {}) {\n  const params = new URLSearchParams(filters);\n  const res = await fetchWithAuth(`${BASE}/api/sales?${params}`);\n  return handleResponse(res);\n}\n\nexport async function createSale(payload: Partial<Sale>) {\n  const res = await fetchWithAuth(`${BASE}/api/sales`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\n// Customers\nexport async function getCustomers() {\n  const res = await fetchWithAuth(`${BASE}/api/customers`);\n  return handleResponse(res);\n}\n\nexport async function createCustomer(payload: Partial<Customer>) {\n  const res = await fetchWithAuth(`${BASE}/api/customers`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\n// Reports\nexport async function getReports(type: string, filters: Record<string, string> = {}) {\n  const params = new URLSearchParams(filters);\n  const res = await fetchWithAuth(`${BASE}/api/reports/${type}?${params}`);\n  return handleResponse(res);\n}\n\n// Feed Management\nexport async function getFeedRecipes() {\n  const res = await fetchWithAuth(`${BASE}/api/feed/recipes`);\n  return handleResponse(res);\n}\n\nexport async function createFeedRecipe(payload: Partial<FeedRecipe>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/recipes`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function updateFeedRecipe(id: string, payload: Partial<FeedRecipe>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/recipes/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteFeedRecipe(id: string) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/recipes/${id}`, {\n    method: 'DELETE',\n  });\n  return handleResponse(res);\n}\n\nexport async function getFeedBatches(filters: Record<string, string> = {}) {\n  const params = new URLSearchParams(filters);\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches?${params}`);\n  return handleResponse(res);\n}\n\nexport async function createFeedBatch(payload: Partial<FeedBatch>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function updateFeedBatch(id: string, payload: Partial<FeedBatch>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteFeedBatch(id: string) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/${id}`, {\n    method: 'DELETE',\n  });\n  return handleResponse(res);\n}\n\nexport async function getBatchIngredients(batchId: string) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/${batchId}/ingredients`);\n  return handleResponse(res);\n}\n\nexport async function addBatchIngredient(batchId: string, payload: Partial<Ingredient>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/${batchId}/ingredients`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function estimateBatchCost(payload: { ingredients: Ingredient[] }) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/estimate-cost`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function calculateFeedBatchCost(payload: Partial<FeedBatch>) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/calculate-cost`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function getFeedBatchUsageStats() {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches-usage`);\n  return handleResponse(res);\n}\n\nexport async function getFeedBatchUsageById(id: string) {\n  const res = await fetchWithAuth(`${BASE}/api/feed/batches/${id}/usage`);\n  return handleResponse(res);\n}\n\nexport async function getDailyCosts(date: string) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/daily/${date}`);\n  return handleResponse(res);\n}\n\nexport async function getCostsSummary(start: string, end: string) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/summary?start=${start}&end=${end}`);\n  return handleResponse(res);\n}\n\nexport async function createOperatingCost(payload: Partial<OperatingCost>) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/operating`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function getEggPriceEstimate(date: string) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/egg-price/${date}`);\n  return handleResponse(res);\n}\n\nexport async function getDailyCalculation(date: string) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/daily-calculation/${date}`);\n  return handleResponse(res);\n}\n\nexport async function getAverageMonthlyProduction(date: string) {\n  const res = await fetchWithAuth(`${BASE}/api/costs/avg-production/${date}`);\n  return handleResponse(res);\n}\n\n// New flexible cost entries API\nexport async function getCostTypes() {\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries/types`);\n  return handleResponse(res);\n}\n\nexport async function createCostEntry(payload: Partial<CostEntry>) {\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries`, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function getCostEntries(filters: CostFilters = {}, page = 1, limit = 50) {\n  const params = new URLSearchParams({\n    page: page.toString(),\n    limit: limit.toString(),\n    ...Object.fromEntries(\n      Object.entries(filters)\n        .filter(([, value]) => value !== undefined)\n        .map(([key, value]) => [key, String(value)])\n    ),\n  });\n\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries?${params}`);\n  return handleResponse(res);\n}\n\nexport async function getCostEntry(id: number) {\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries/${id}`);\n  return handleResponse(res);\n}\n\nexport async function updateCostEntry(id: number, payload: Partial<CostEntry>) {\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries/${id}`, {\n    method: 'PUT',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return handleResponse(res);\n}\n\nexport async function deleteCostEntry(id: number) {\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries/${id}`, {\n    method: 'DELETE',\n  });\n  return handleResponse(res);\n}\n\nexport async function getCostEntriesSummary(filters: CostFilters = {}) {\n  const params = new URLSearchParams(\n    Object.fromEntries(\n      Object.entries(filters)\n        .filter(([, value]) => value !== undefined)\n        .map(([key, value]) => [key, String(value)])\n    )\n  );\n\n  const res = await fetchWithAuth(`${BASE}/api/cost-entries/summary?${params}`);\n  return handleResponse(res);\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/lib/authEvents.ts"],"sourcesContent":["type AuthEvent = \"login\" | \"refresh\" | \"logout\";\n\nconst listeners: Record<AuthEvent, Set<() => void>> = {\n  login: new Set(),\n  refresh: new Set(),\n  logout: new Set(),\n};\n\nexport const authEvents = {\n  on(event: AuthEvent, cb: () => void) {\n    listeners[event].add(cb);\n  },\n  off(event: AuthEvent, cb: () => void) {\n    listeners[event].delete(cb);\n  },\n  emit(event: AuthEvent) {\n    listeners[event].forEach((cb) => {\n      try {\n        cb();\n      } catch (e) {\n        // swallow listener errors\n        console.error(\"authEvents listener error\", e);\n      }\n    });\n  },\n};\n"],"names":[],"mappings":";;;AAEA,MAAM,YAAgD;IACpD,OAAO,IAAI;IACX,SAAS,IAAI;IACb,QAAQ,IAAI;AACd;AAEO,MAAM,aAAa;IACxB,IAAG,KAAgB,EAAE,EAAc;QACjC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC;IACvB;IACA,KAAI,KAAgB,EAAE,EAAc;QAClC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC;IAC1B;IACA,MAAK,KAAgB;QACnB,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;YACxB,IAAI;gBACF;YACF,EAAE,OAAO,GAAG;gBACV,0BAA0B;gBAC1B,QAAQ,KAAK,CAAC,6BAA6B;YAC7C;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/lib/format.ts"],"sourcesContent":["export function formatCurrency(\n  amount: number,\n  options?: { minimumFractionDigits?: number; maximumFractionDigits?: number }\n) {\n  const formatter = new Intl.NumberFormat('en-NG', {\n    style: 'currency',\n    currency: 'NGN',\n    minimumFractionDigits: options?.minimumFractionDigits ?? 2,\n    maximumFractionDigits: options?.maximumFractionDigits ?? 2,\n  });\n  return formatter.format(Number(amount) || 0);\n}\n\nexport default formatCurrency;\n"],"names":[],"mappings":";;;;AAAO,SAAS,eACd,MAAc,EACd,OAA4E;IAE5E,MAAM,YAAY,IAAI,KAAK,YAAY,CAAC,SAAS;QAC/C,OAAO;QACP,UAAU;QACV,uBAAuB,SAAS,yBAAyB;QACzD,uBAAuB,SAAS,yBAAyB;IAC3D;IACA,OAAO,UAAU,MAAM,CAAC,OAAO,WAAW;AAC5C;uCAEe","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 746, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 757, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 768, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 779, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/types/enums/index.ts"],"sourcesContent":["export enum HouseStatus {\n  ACTIVE = 'active',\n  MAINTENANCE = 'maintenance',\n  INACTIVE = 'inactive',\n}\n\nexport enum UserRole {\n  OWNER = 'owner',\n  STAFF = 'staff',\n}\n\nexport enum PaymentStatus {\n  PAID = 'paid',\n  PENDING = 'pending',\n  OVERDUE = 'overdue',\n}\n\nexport enum PaymentMethod {\n  CASH = 'cash',\n  TRANSFER = 'transfer',\n  CHECK = 'check',\n  CARD = 'card',\n}\n\nexport enum CustomerType {\n  BUSINESS = 'Business',\n  INDIVIDUAL = 'Individual',\n}\n\nexport enum WorkerStatus {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  ON_LEAVE = 'on_leave',\n}\n\nexport enum AttendanceStatus {\n  PRESENT = 'present',\n  ABSENT = 'absent',\n  LATE = 'late',\n}\n\nexport enum NotificationType {\n  SUCCESS = 'success',\n  ERROR = 'error',\n  WARNING = 'warning',\n  INFO = 'info',\n}\n\nexport enum PayrollStatus {\n  PENDING = 'pending',\n  PAID = 'paid',\n  PROCESSED = 'processed',\n}\n\nexport enum TaskStatus {\n  PENDING = 'pending',\n  IN_PROGRESS = 'in_progress',\n  COMPLETED = 'completed',\n  CANCELLED = 'cancelled',\n}\n\nexport enum EggGrade {\n  GRADE_A = 'gradeA',\n  GRADE_B = 'gradeB',\n  GRADE_C = 'gradeC',\n}\n\nexport enum TaskPriority {\n  LOW = 'low',\n  MEDIUM = 'medium',\n  HIGH = 'high',\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,IAAA,AAAK,qCAAA;;;;WAAA;;AAML,IAAA,AAAK,kCAAA;;;WAAA;;AAKL,IAAA,AAAK,uCAAA;;;;WAAA;;AAML,IAAA,AAAK,uCAAA;;;;;WAAA;;AAOL,IAAA,AAAK,sCAAA;;;WAAA;;AAKL,IAAA,AAAK,sCAAA;;;;WAAA;;AAML,IAAA,AAAK,0CAAA;;;;WAAA;;AAML,IAAA,AAAK,0CAAA;;;;;WAAA;;AAOL,IAAA,AAAK,uCAAA;;;;WAAA;;AAML,IAAA,AAAK,oCAAA;;;;;WAAA;;AAOL,IAAA,AAAK,kCAAA;;;;WAAA;;AAML,IAAA,AAAK,sCAAA;;;;WAAA","debugId":null}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 931, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/context/UserContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useRef, useState } from 'react';\nimport { getCurrentUser, logout as apiLogout } from '@/lib/api';\nimport { authEvents } from '@/lib/authEvents';\n\ntype User = {\n  id: string;\n  username: string;\n  role: 'owner' | 'staff';\n  email?: string;\n};\n\ntype ContextValue = {\n  user: User | null;\n  loading: boolean;\n  refresh: () => Promise<boolean>;\n  logout: () => void;\n};\n\nconst UserContext = createContext<ContextValue | undefined>(undefined);\n\nexport const UserProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const fetchInFlight = useRef(false);\n  const hasInitialized = useRef(false);\n\n  const fetchUser = async (): Promise<boolean> => {\n    if (fetchInFlight.current) {\n      return false;\n    }\n    fetchInFlight.current = true;\n    setLoading(true);\n    try {\n      const u = await getCurrentUser();\n      if (u) {\n        setUser({\n          id: String(u.id),\n          username: String(u.username),\n          role: u.role === 'owner' ? 'owner' : 'staff',\n          email: u.email,\n        });\n        return true;\n      } else {\n        setUser(null);\n        return false;\n      }\n    } catch {\n      setUser(null);\n      return false;\n    } finally {\n      fetchInFlight.current = false;\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (hasInitialized.current) return;\n    hasInitialized.current = true;\n\n    fetchUser();\n    const onLogin = () => void fetchUser();\n    const onRefresh = () => void fetchUser();\n    const onLogout = () => {\n      setUser(null);\n    };\n\n    authEvents.on('login', onLogin);\n    authEvents.on('refresh', onRefresh);\n    authEvents.on('logout', onLogout);\n    return () => {\n      authEvents.off('login', onLogin);\n      authEvents.off('refresh', onRefresh);\n      authEvents.off('logout', onLogout);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    apiLogout();\n    setUser(null);\n  };\n\n  return (\n    <UserContext.Provider value={{ user, loading, refresh: fetchUser, logout: handleLogout }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport function useUser() {\n  const ctx = useContext(UserContext);\n  if (!ctx) throw new Error('useUser must be used within UserProvider');\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAgBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA4B;AAErD,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;;IAChF,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE9B,MAAM,YAAY;QAChB,IAAI,cAAc,OAAO,EAAE;YACzB,OAAO;QACT;QACA,cAAc,OAAO,GAAG;QACxB,WAAW;QACX,IAAI;YACF,MAAM,IAAI,MAAM,CAAA,GAAA,6GAAA,CAAA,iBAAc,AAAD;YAC7B,IAAI,GAAG;gBACL,QAAQ;oBACN,IAAI,OAAO,EAAE,EAAE;oBACf,UAAU,OAAO,EAAE,QAAQ;oBAC3B,MAAM,EAAE,IAAI,KAAK,UAAU,UAAU;oBACrC,OAAO,EAAE,KAAK;gBAChB;gBACA,OAAO;YACT,OAAO;gBACL,QAAQ;gBACR,OAAO;YACT;QACF,EAAE,OAAM;YACN,QAAQ;YACR,OAAO;QACT,SAAU;YACR,cAAc,OAAO,GAAG;YACxB,WAAW;QACb;IACF;IAEA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,eAAe,OAAO,EAAE;YAC5B,eAAe,OAAO,GAAG;YAEzB;YACA,MAAM;kDAAU,IAAM,KAAK;;YAC3B,MAAM;oDAAY,IAAM,KAAK;;YAC7B,MAAM;mDAAW;oBACf,QAAQ;gBACV;;YAEA,oHAAA,CAAA,aAAU,CAAC,EAAE,CAAC,SAAS;YACvB,oHAAA,CAAA,aAAU,CAAC,EAAE,CAAC,WAAW;YACzB,oHAAA,CAAA,aAAU,CAAC,EAAE,CAAC,UAAU;YACxB;0CAAO;oBACL,oHAAA,CAAA,aAAU,CAAC,GAAG,CAAC,SAAS;oBACxB,oHAAA,CAAA,aAAU,CAAC,GAAG,CAAC,WAAW;oBAC1B,oHAAA,CAAA,aAAU,CAAC,GAAG,CAAC,UAAU;gBAC3B;;QACF;iCAAG,EAAE;IAEL,MAAM,eAAe;QACnB,CAAA,GAAA,6GAAA,CAAA,SAAS,AAAD;QACR,QAAQ;IACV;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS,SAAS;YAAW,QAAQ;QAAa;kBACpF;;;;;;AAGP;GAlEa;KAAA;AAoEN,SAAS;;IACd,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT;IAJgB","debugId":null}},
    {"offset": {"line": 1045, "column": 0}, "map": {"version":3,"sources":["file:///home/aliyusani/workspace/github.com/alisjj/Farm-Manager/farm-pilot/app/page.tsx"],"sourcesContent":["'use client';\n\nimport type React from 'react';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { cn } from '@/lib/utils';\nimport { login as apiLogin, logout as apiLogout } from '@/lib/api';\nimport { useUser } from '@/context/UserContext';\nimport {\n  BarChart3,\n  Egg,\n  Users,\n  TrendingUp,\n  Calendar,\n  Package,\n  Plus,\n  Settings,\n  Bell,\n  Search,\n  UserCheck,\n  BarChart2,\n  Menu,\n  X,\n  Receipt,\n  Lock,\n} from 'lucide-react';\nimport { DashboardOverview } from '@/components/dashboard-overview';\nimport { DailyEntryForm } from '@/components/daily-entry-form';\nimport { SalesManagement } from '@/components/sales-management';\nimport { FeedManagement } from '@/components/feed-management';\nimport { LaborManagement } from '@/components/labor-management';\nimport { CostAnalysis } from '@/components/cost-analysis';\nimport { ReportsSection } from '@/components/reports-section';\nimport { StaffDashboard } from '@/components/staff-dashboard';\nimport { StaffReports } from '@/components/staff-reports';\nimport { StaffManagement } from '@/components/staff-management';\nimport { ExpenseManagement } from '@/components/expense-management';\nimport { StaffDailyEntry } from '@/components/staff-daily-entry';\nimport { HouseManagement } from '@/components/house-management';\nimport { UserProvider } from '@/context/UserContext';\n\nexport default function FarmPilot() {\n  return (\n    <UserProvider>\n      <FarmPilotApp />\n    </UserProvider>\n  );\n}\n\nfunction FarmPilotApp() {\n  const { user, loading } = useUser();\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  // Determine user role from the context\n  const userRole = user?.role || 'staff';\n\n  function LoginShell() {\n    const { refresh } = useUser();\n    const [loginForm, setLoginForm] = useState({ username: '', password: '' });\n    const [loginLoading, setLoginLoading] = useState(false);\n\n    const handleLoginInner = async (e: React.FormEvent) => {\n      e.preventDefault();\n      // debug: trace login submission\n      try {\n        console.log('[auth] handleLoginInner start', {\n          username: loginForm.username ? '***' : '',\n          ts: Date.now(),\n        });\n      } catch {}\n      setLoginLoading(true);\n      try {\n        const res = await apiLogin({ username: loginForm.username, password: loginForm.password });\n        // debug: show API login response shaps\n        try {\n          console.log('[auth] apiLogin response', res);\n        } catch {}\n        if (res && res.success && res.data && res.data.user) {\n          const ok = await refresh();\n          if (ok) {\n            console.log('[auth] logged in', res.data.user);\n          } else {\n            alert('Login succeeded but user fetch failed. Please try again.');\n          }\n        } else {\n          const msg = (res && (res.message || res.error)) || 'Invalid credentials';\n          alert(msg);\n        }\n      } catch (err) {\n        console.error('Login failed', err);\n        const maybeErr = err as Record<string, unknown>;\n        const msg =\n          (err &&\n            typeof err === 'object' &&\n            typeof maybeErr.message === 'string' &&\n            maybeErr.message) ||\n          'Login failed';\n        alert(msg);\n      } finally {\n        setLoginLoading(false);\n      }\n    };\n\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-cyan-50 to-purple-50 flex items-center justify-center p-4\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader className=\"text-center space-y-4\">\n            <div className=\"mx-auto h-16 w-16 rounded-full bg-primary flex items-center justify-center\">\n              <Egg className=\"h-8 w-8 text-primary-foreground\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-2xl font-bold text-balance\">\n                Welcome to Farm Pilot\n              </CardTitle>\n              <CardDescription className=\"text-balance\">\n                Sign in to manage your egg production operations\n              </CardDescription>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleLoginInner} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"username\" className=\"text-sm font-medium\">\n                  Username\n                </label>\n                <Input\n                  id=\"username\"\n                  type=\"text\"\n                  placeholder=\"Enter your username\"\n                  value={loginForm.username}\n                  onChange={(e) => setLoginForm({ ...loginForm, username: e.target.value })}\n                  required\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label htmlFor=\"password\" className=\"text-sm font-medium\">\n                  Password\n                </label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={loginForm.password}\n                  onChange={(e) => setLoginForm({ ...loginForm, password: e.target.value })}\n                  required\n                />\n              </div>\n              <Button type=\"submit\" className=\"w-full\" disabled={loginLoading}>\n                {loginLoading ? (\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent\" />\n                    Signing in...\n                  </div>\n                ) : (\n                  <div className=\"flex items-center gap-2\">\n                    <Lock className=\"h-4 w-4\" />\n                    Sign In\n                  </div>\n                )}\n              </Button>\n            </form>\n            <div className=\"mt-6 text-center text-sm text-muted-foreground\">\n              <p>Please sign in with your account credentials.</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const handleLogout = () => {\n    apiLogout();\n    setActiveTab('dashboard');\n    console.log('[auth] User logged out');\n  };\n\n  // Show loading while checking authentication\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div>Loading...</div>\n      </div>\n    );\n  }\n\n  // Show login form if not authenticated\n  if (!user) {\n    return <LoginShell />;\n  }\n\n  const ownerNavItems = [\n    { id: 'dashboard', label: 'Dashboard', icon: BarChart3 },\n    { id: 'daily-entry', label: 'Daily Entry', icon: Plus },\n    {\n      id: 'sales',\n      label: 'Sales',\n      icon: () => <span className=\"text-sm font-bold\">â‚¦</span>,\n    },\n    { id: 'feed', label: 'Feed Management', icon: Package },\n    { id: 'houses', label: 'House Management', icon: Egg },\n    { id: 'labor', label: 'Labor', icon: Users },\n    { id: 'staff', label: 'Staff Management', icon: UserCheck },\n    { id: 'expenses', label: 'Expenses', icon: Receipt },\n    { id: 'costs', label: 'Cost Analysis', icon: TrendingUp },\n    { id: 'reports', label: 'Reports', icon: Calendar },\n  ];\n\n  const renderOwnerContent = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return <DashboardOverview />;\n      case 'daily-entry':\n        return <DailyEntryForm />;\n      case 'sales':\n        return <SalesManagement />;\n      case 'feed':\n        return <FeedManagement />;\n      case 'houses':\n        return <HouseManagement />;\n      case 'labor':\n        return <LaborManagement />;\n      case 'staff':\n        return <StaffManagement />;\n      case 'expenses':\n        return <ExpenseManagement />;\n      case 'costs':\n        return <CostAnalysis />;\n      case 'reports':\n        return <ReportsSection />;\n      default:\n        return <DashboardOverview />;\n    }\n  };\n\n  const renderStaffTabs = () => (\n    <>\n      <TabsList className=\"grid w-full grid-cols-4 lg:w-auto lg:grid-cols-none lg:flex\">\n        <TabsTrigger value=\"dashboard\" className=\"flex items-center gap-2\">\n          <BarChart2 className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Dashboard</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"daily-entry\" className=\"flex items-center gap-2\">\n          <Plus className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Daily Log</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"expenses\" className=\"flex items-center gap-2\">\n          <Receipt className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Expenses</span>\n        </TabsTrigger>\n        <TabsTrigger value=\"reports\" className=\"flex items-center gap-2\">\n          <Calendar className=\"h-4 w-4\" />\n          <span className=\"hidden sm:inline\">Reports</span>\n        </TabsTrigger>\n      </TabsList>\n\n      <TabsContent value=\"dashboard\" className=\"space-y-6\">\n        <StaffDashboard />\n      </TabsContent>\n      <TabsContent value=\"daily-entry\" className=\"space-y-6\">\n        <StaffDailyEntry />\n      </TabsContent>\n      <TabsContent value=\"expenses\" className=\"space-y-6\">\n        <ExpenseManagement userRole=\"staff\" />\n      </TabsContent>\n      <TabsContent value=\"reports\" className=\"space-y-6\">\n        <StaffReports />\n      </TabsContent>\n    </>\n  );\n\n  if (userRole === 'staff') {\n    return (\n      <div className=\"min-h-screen bg-background\">\n        {/* Header */}\n        <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n          <div className=\"container flex h-16 items-center justify-between px-4\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"h-8 w-8 rounded-lg bg-primary flex items-center justify-center\">\n                  <Egg className=\"h-5 w-5 text-primary-foreground\" />\n                </div>\n                <h1 className=\"text-xl font-bold text-balance\">Farm Pilot</h1>\n              </div>\n              <Badge variant=\"secondary\" className=\"hidden sm:inline-flex\">\n                v2.0\n              </Badge>\n              <Badge variant=\"outline\" className=\"hidden sm:inline-flex\">\n                Staff\n              </Badge>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"icon\">\n                <Search className=\"h-4 w-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\">\n                <Bell className=\"h-4 w-4\" />\n              </Button>\n              <Button variant=\"ghost\" size=\"icon\" onClick={handleLogout}>\n                <Settings className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n        </header>\n\n        {/* Main Content */}\n        <div className=\"container mx-auto px-4 py-6\">\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"space-y-6\">\n            {renderStaffTabs()}\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"flex h-16 items-center justify-between px-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"lg:hidden\"\n              onClick={() => setSidebarOpen(!sidebarOpen)}\n            >\n              {sidebarOpen ? <X className=\"h-4 w-4\" /> : <Menu className=\"h-4 w-4\" />}\n            </Button>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-8 w-8 rounded-lg bg-primary flex items-center justify-center\">\n                <Egg className=\"h-5 w-5 text-primary-foreground\" />\n              </div>\n              <h1 className=\"text-xl font-bold text-balance\">Farm Pilot</h1>\n            </div>\n            <Badge variant=\"secondary\" className=\"hidden sm:inline-flex\">\n              v2.0\n            </Badge>\n            <Badge variant=\"default\" className=\"hidden sm:inline-flex\">\n              Owner\n            </Badge>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Button variant=\"ghost\" size=\"icon\">\n              <Search className=\"h-4 w-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\">\n              <Bell className=\"h-4 w-4\" />\n            </Button>\n            <Button variant=\"ghost\" size=\"icon\" onClick={handleLogout}>\n              <Settings className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"flex\">\n        {/* Sidebar */}\n        <aside\n          className={cn(\n            'fixed top-16 left-0 z-40 w-64 h-[calc(100vh-4rem)] transform border-r bg-background transition-transform duration-200 ease-in-out lg:relative lg:translate-x-0 lg:top-0 lg:h-[calc(100vh-4rem)]',\n            sidebarOpen ? 'translate-x-0' : '-translate-x-full'\n          )}\n        >\n          <div className=\"flex h-full flex-col overflow-hidden\">\n            <nav className=\"flex-1 space-y-1 p-4 overflow-y-auto\">\n              {ownerNavItems.map((item) => {\n                const Icon = item.icon as React.ElementType;\n                return (\n                  <button\n                    key={item.id}\n                    onClick={() => {\n                      setActiveTab(item.id);\n                      setSidebarOpen(false);\n                    }}\n                    className={cn(\n                      'flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm font-medium transition-colors',\n                      activeTab === item.id\n                        ? 'bg-primary text-primary-foreground'\n                        : 'text-muted-foreground hover:bg-accent hover:text-accent-foreground'\n                    )}\n                  >\n                    <Icon className=\"h-4 w-4\" />\n                    {item.label}\n                  </button>\n                );\n              })}\n            </nav>\n          </div>\n        </aside>\n\n        {/* Overlay for mobile */}\n        {sidebarOpen && (\n          <div\n            className=\"fixed inset-0 z-30 bg-background/80 backdrop-blur-sm lg:hidden\"\n            onClick={() => setSidebarOpen(false)}\n          />\n        )}\n\n        {/* Main Content */}\n        <main className=\"flex-1 lg:ml-0\">\n          <div className=\"h-[calc(100vh-4rem)] overflow-auto p-6\">{renderOwnerContent()}</div>\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}